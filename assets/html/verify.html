<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>{guild_name} 인증</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="{guild_name} 인증">
    <meta name="og:title" content="{guild_name} 인증">
    <meta name="description" content="{guild_name} 인증을 완료하고 활동 권한을 얻어보세요.">
    <meta name="og:description" content="{guild_name} 인증을 완료하고 활동 권한을 얻어보세요.">
    <meta name="og:url" content="{domain}">
    <meta name="og:sitename" content="verifier">
    <meta name="theme-color" content="#ffffff">
    <meta name="og:image" content="/static/image/static/image/inticon-512.png">
    <meta name="twitter:image" content="/static/image/static/image/inticon-512.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="{guild_name} 인증">
    <meta name="twitter:description" content="{guild_name} 인증을 완료하고 활동 권한을 얻어보세요.">
    <meta name="twitter:url" content="{domain}">
    <link rel="shortcut icon" href="/static/image/static/image/inticon-512.png" type="image/png">
    <link rel="stylesheet" href="/static/css/verify.css">
    <link rel="icon" href="/static/image/static/image/inticon-512.png">
    <!--<link rel="manifest" href="/manifest.json">-->
    <link rel="apple-touch-icon" href="/static/image/inticon-512.png">
    <script>
        // if ('serviceWorker' in navigator) {
        //     window.addEventListener('load', () => {
        //         navigator.serviceWorker.register('/serviceWorker.js')
        //     });
        // }
    </script>
    <script>
        function getParam(sname) {
            let params = location.search.substr(location.search.indexOf("?") + 1);
            let sval = "";
            params = params.split("&");
            for (let i = 0; i < params.length; i++) {
                temp = params[i].split("=");
                if ([temp[0]] == sname) {
                    sval = temp[1];
                }
            }
            return sval;
        }
        function onloadCallback() {
            grecaptcha.render('recaptcha', {
                sitekey: '6Lf6JhYaAAAAADcCWTe-ukB_6lCRrIDOmHFeDpg0',
                callback: callback,
                size: 'invisible'
            });
        }
        function callback() {
            document.querySelector('#tkn').setAttribute('value', getParam('token'));
            document.querySelector('#form').submit();
        }
    </script>
    <script src="/static/js/loadingbar.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
</head>

<body>
    <div id="loadingbar">
        <div class="dot" id="dot1"></div>
        <div class="dot" id="dot2"></div>
        <div class="dot" id="dot3"></div>
        <div class="dot" id="dot4"></div>
    </div>
    <div id="main">

        <h1>{guild_name} 인증하기</h1>
        <div id="userinfo">
            <img src="{user_profile}" alt="avatar" id="user_profile">
            <p id="user_label">{tag}님 환영합니다!</p>
        </div>
        <p>{message}</p>
        <form action="/subm" method="post" id="form">
            <input type="hidden" name="token" value="" id="tkn">
            <button id="recaptcha">인증하기</button>
        </form>
    </div>
</body>

</html>